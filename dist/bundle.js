(()=>{const e=document.querySelector("#newtaskinput"),t=document.querySelector("#addtask"),n=document.querySelector("#tasklist");let s=[];class i{constructor(e,t){this.title=e,this.desc=t,this.id=s.length+1,this.value=!1}}function l(){n.innerHTML="",s.forEach((e=>{const t=document.createElement("div");t.classList.add("task"),t.innerHTML=`\n        <div id='${e.id}-toggle' class='side'>\n            ${e.value?'\n                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-square"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" /></svg>\n            ':'\n                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square"><rect width="18" height="18" x="3" y="3" rx="2" /></svg>\n            '}\n           <span class='${e.value?"checked":""}'>${e.title}</span>\n        </div>\n        <button class='delete' id='${e.id}-delete'>\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>\n        </button>\n        `,n.appendChild(t)}))}function o(e){const t=s.filter((t=>t.id!==parseInt(e)));s=t,l()}t.addEventListener("click",(n=>{n.preventDefault(),function(){const n=function(e){return s.find((t=>t.title===e))||""===e?null:e}(e.value);if(null===n)t.style.color="red";else{t.style.color="";const e=new i(n),o=[...s,e];s=o,l()}}()})),document.addEventListener("click",(e=>{const t=e.target.closest(".delete");t&&o(parseInt(t.id.split("-")[0]))})),document.addEventListener("click",(e=>{const t=e.target.closest(".side");t&&function(e){const t=s.find((t=>t.id===e));o(e),t.value?t.value=!1:t.value=!0;const n=[...s,t];s=n,l()}(parseInt(t.id.split("-")[0]))}))})();