(()=>{const e=document.querySelector("#newtaskinput"),t=document.querySelector("#addtask"),n=document.querySelector("#tasklist");let i=[];class s{constructor(e,t){this.title=e,this.desc=t,this.id=i.length+1,this.value=!1}}function d(){n.innerHTML="",i.forEach((e=>{const t=document.createElement("div");t.classList.add("task"),t.innerHTML=`\n        <div id='${e.id}-toggle' class='side'>\n            ${e.value?'\n                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-square"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" /></svg>\n            ':'\n                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square"><rect width="18" height="18" x="3" y="3" rx="2" /></svg>\n            '}\n           <span class='${e.value?"checked":""}'>${e.title}</span>\n        </div>\n        <button class='delete' id='${e.id}-delete'>delete</button>\n        `,n.appendChild(t)}))}function l(e){const t=i.filter((t=>t.id!==parseInt(e)));i=t,d()}t.addEventListener("click",(t=>{t.preventDefault(),function(){const t=new s(e.value),n=[...i,t];i=n,d()}()})),document.addEventListener("click",(e=>{e.target.id.includes("delete")&&l(e.target.id)})),document.addEventListener("click",(e=>{const t=e.target.closest(".side");t&&function(e){const t=i.find((t=>t.id===e));l(e),t.value?t.value=!1:t.value=!0;const n=[...i,t];i=n,d()}(parseInt(t.id.split("-")[0]))}))})();